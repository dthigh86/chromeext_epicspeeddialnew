!function($){$.fn.flipCounter=function(j){function _isInitialized(){var a=k.data("flipCounter");return"undefined"==typeof a?!1:!0}function _getOption(a){var b=k.data("flipCounter"),c=b[a];return"undefined"!=typeof c?c:!1}function _setOption(a,b){var c=k.data("flipCounter");c[a]=b,k.data("flipCounter",c)}function _setupCounter(){k.children('[name="'+_getOption("counterFieldName")+'"]').length<1&&k.append('<input type="hidden" name="'+_getOption("counterFieldName")+'" value="'+_getOption("number")+'" />');var a=_getDigitsLength(),b=_getNumberFormatted().length;if(b>a)for(i=0;b-a>i;i++){var c=$('<span class="'+_getOption("digitClass")+'" style="'+_getDigitStyle("0")+'" />');k.prepend(c)}else if(a>b)for(i=0;a-b>i;i++)k.children("."+_getOption("digitClass")).first().remove();k.find("."+_getOption("digitClass")).each(function(){0==$(this).find("span").length&&$(this).append('<span style="visibility:hidden">0</span>')})}function _renderCounter(){_setupCounter();var c=_getNumberFormatted(),d=_getDigits(),e=0;$.each(d,function(){digit=c.toString().charAt(e),$(this).attr("style",_getDigitStyle(digit)),$(this).find("span").text(digit.replace(" ","&nbsp;").toString()),e++}),_setCounterValue()}function _getDigits(){return k.children("."+_getOption("digitClass"))}function _getDigitsLength(){return _getDigits().length}function _getCounterValue(){var a=parseFloat(k.children('[name="'+_getOption("counterFieldName")+'"]').val());return a==a==0?!1:a}function _setCounterValue(){k.children('[name="'+_getOption("counterFieldName")+'"]').val(_getOption("number"))}function _getNumberFormatted(){var a=_getOption("number");if("number"!=typeof a)return $.error("Attempting to render non-numeric value."),"0";var b="";if(_getOption("formatNumberOptions"))$.formatNumber?b=$.formatNumber(a,_getOption("formatNumberOptions")):$.error("The numberformatter jQuery plugin is not loaded. This plugin is required to use the formatNumberOptions setting.");else if(a>=0){for(var c=_getOption("numIntegralDigits"),d=c-a.toFixed().toString().length,i=0;d>i;i++)b+="0";b+=a.toFixed(_getOption("numFractionalDigits"))}else b="-"+Math.abs(a.toFixed(_getOption("numFractionalDigits")));return b}function _getDigitStyle(a){var b="height:"+_getOption("digitHeight")+"px; width:"+_getOption("digitWidth")+"px; display:inline-block; background-image:url('"+_getOption("imagePath")+"'); background-repeat:no-repeat; ",c=new Array;return c[1]=0*_getOption("digitWidth"),c[2]=-1*_getOption("digitWidth"),c[3]=-2*_getOption("digitWidth"),c[4]=-3*_getOption("digitWidth"),c[5]=-4*_getOption("digitWidth"),c[6]=-5*_getOption("digitWidth"),c[7]=-6*_getOption("digitWidth"),c[8]=-7*_getOption("digitWidth"),c[9]=-8*_getOption("digitWidth"),c[0]=-9*_getOption("digitWidth"),c["."]=-10*_getOption("digitWidth"),c["-"]=-11*_getOption("digitWidth"),c[","]=-12*_getOption("digitWidth"),c[" "]=-13*_getOption("digitWidth"),a in c?b+"background-position: "+c[a]+"px 0px;":b}function _startAnimation(a){1==_getOption("animating")&&_stopAnimation(),"undefined"!=typeof a?(a=$.extend(k.data("flipCounter"),a),k.data("flipCounter",a)):a=k.data("flipCounter"),0==_getOption("start_time")&&_setOption("start_time",(new Date).getTime()),0==_getOption("time")&&_setOption("time",0),0==_getOption("elapsed")&&_setOption("elapsed","0.0"),0==_getOption("start_number")&&(_setOption("start_number",_getOption("number")),0==_getOption("start_number")&&_setOption("start_number",0)),_doAnimation();var b=_getOption("onAnimationStarted");"function"==typeof b&&b.call(k,k)}function _doAnimation(){function animation_step(){d+=10,e=Math.floor(d/10)/10,Math.round(e)==e&&(e+=".0"),_setOption("elapsed",e);var a=(new Date).getTime()-c-d,b=0;b="function"==typeof i?i.apply(k,[!1,d,f,g,h]):_noEasing(!1,d,f,g,h),_setOption("number",b),_setOption("time",d),_renderCounter(),h>d?_setOption("interval",window.setTimeout(animation_step,10-a)):_stopAnimation()}var c=_getOption("start_time"),d=_getOption("time"),e=_getOption("elapsed"),f=_getOption("start_number"),g=_getOption("end_number")-_getOption("start_number");if(0==g)return!1;var h=_getOption("duration"),i=_getOption("easing");_setOption("animating",!0),window.setTimeout(animation_step,10)}function _stopAnimation(){if(0==_getOption("animating"))return!1;clearTimeout(_getOption("interval")),_setOption("start_time",!1),_setOption("start_number",!1),_setOption("end_number",!1),_setOption("time",0),_setOption("animating",!1),_setOption("paused",!1);var a=_getOption("onAnimationStopped");"function"==typeof a&&a.call(k,k)}function _pauseAnimation(){if(0==_getOption("animating")||1==_getOption("paused"))return!1;clearTimeout(_getOption("interval")),_setOption("paused",!0);var a=_getOption("onAnimationPaused");"function"==typeof a&&a.call(k,k)}function _resumeAnimation(){if(0==_getOption("animating")||0==_getOption("paused"))return!1;_setOption("paused",!1),_doAnimation();var a=_getOption("onAnimationResumed");"function"==typeof a&&a.call(k,k)}function _noEasing(x,t,b,c,d){return t/d*c+b}var k=!1,l={number:0,numIntegralDigits:2,numFractionalDigits:0,digitClass:"counter-digit",counterFieldName:"counter-value",digitHeight:27,digitWidth:17,imagePath:"img/flipCounter-medium.png",easing:!1,duration:1e4,onAnimationStarted:!1,onAnimationStopped:!1,onAnimationPaused:!1,onAnimationResumed:!1,formatNumberOptions:!1},m={init:function(e){return this.each(function(){k=$(this);var c=$.extend(l,e),d=k.data("flipCounter");e=$.extend(d,c),k.data("flipCounter",e),(e.number===!1||0==e.number)&&(e.number=_getCounterValue()!==!1?_getCounterValue():0,_setOption("number",e.number)),_setOption("animating",!1),_setOption("start_time",!1),k.bind("startAnimation",function(a,b){_startAnimation(b)}),k.bind("pauseAnimation",function(){_pauseAnimation()}),k.bind("resumeAnimation",function(){_resumeAnimation()}),k.bind("stopAnimation",function(){_stopAnimation()}),k.htmlClean(),_renderCounter()})},renderCounter:function(a){return this.each(function(){k=$(this),_isInitialized()||$(this).flipCounter(),_setOption("number",a),_renderCounter()})},setNumber:function(a){return this.each(function(){k=$(this),_isInitialized()||$(this).flipCounter(),_setOption("number",a),_renderCounter()})},getNumber:function(){var a=!1;return this.each(a=function(){return k=$(this),_isInitialized()||$(this).flipCounter(),a=_getOption("number")}),a},startAnimation:function(a){return this.each(function(){k=$(this),_isInitialized()||$(this).flipCounter(),k.trigger("startAnimation",a)})},stopAnimation:function(){return this.each(function(){k=$(this),_isInitialized()||$(this).flipCounter(),k.trigger("stopAnimation")})},pauseAnimation:function(){return this.each(function(){k=$(this),_isInitialized()||$(this).flipCounter(),k.trigger("pauseAnimation")})},resumeAnimation:function(){return this.each(function(){k=$(this),_isInitialized()||$(this).flipCounter(),k.trigger("resumeAnimation")})}};return m[j]?m[j].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof j&&j?void $.error("Method "+j+" does not exist on jQuery.flipCounter"):m.init.apply(this,arguments)}}(jQuery),jQuery.fn.htmlClean=function(){this.contents().filter(function(){return 3!=this.nodeType?($(this).htmlClean(),!1):!/\S/.test(this.nodeValue)}).remove()};